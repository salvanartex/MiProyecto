{% extends "base.html" %}
{% block content %}
<h2>Crear nuevo evento</h2>
<form method="POST">
  <div class="mb-3">
    <input type="text" name="nombre" class="form-control" placeholder="Nombre del evento (ej. Cumpleaños de Juan 2026)" required>
  </div>
  <div class="mb-3">
    <label for="usuario_id" class="form-label">Usuario asociado</label>
    <select name="usuario_id" id="usuario_id" class="form-control" required>
      <option value="" disabled selected>Selecciona un usuario</option>
      {% for usuario in usuarios %}
        <option value="{{ usuario.id }}">{{ usuario.username }}</option>
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Crear evento</button>
  <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancelar</a>
      <hr class="my-4">
</form>

<hr class="my-4">
<h3 class="mt-4">Eliminar eventos existentes</h3>
{% if eventos %}
  <form method="POST">
    <ul class="list-group mb-4">
      {% for evento in eventos %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ evento.nombre }}</span>
          <button type="submit" name="eliminar_evento" value="{{ evento.id }}" class="btn btn-danger btn-sm" onclick="return confirm('¿Seguro que deseas eliminar este evento y todas sus compras?');">Eliminar</button>
        </li>
      {% endfor %}
    </ul>
  </form>
{% else %}
  <p>No hay eventos creados aún.</p>
{% endif %}
</form>
{% endblock %}