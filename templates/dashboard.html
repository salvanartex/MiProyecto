{% extends "base.html" %}
{% block content %}
<h2 class="mb-3">Eventos</h2>

{% if current_user.username == 'admin' %}
  <div class="mb-4 p-3 bg-light rounded">
    <h4>Panel de administración</h4>
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ url_for('admin_create_user') }}" class="btn btn-outline-success flex-fill">➕ Registrar usuario</a>
      <a href="{{ url_for('crear_evento') }}" class="btn btn-outline-primary flex-fill">📅 Crear evento</a>
      <a href="{{ url_for('cuenta_total') }}" class="btn btn-outline-dark flex-fill">💰 Cuenta Total</a>
    </div>
  </div>
{% endif %}

{% if eventos %}
  <ul class="list-group">
    {% for evento in eventos %}
      <li class="list-group-item">
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-2">
          <a href="{{ url_for('mis_compras', evento_id=evento.id) }}" class="fw-bold">{{ evento.nombre }}</a>
          <div class="d-flex flex-wrap gap-2">
            <a href="{{ url_for('mis_compras', evento_id=evento.id) }}" class="btn btn-outline-success">🛒 Mis compras</a>
            <a href="{{ url_for('cuentas', evento_id=evento.id) }}" class="btn btn-outline-info">📊 Cuentas</a>
          </div>
        </div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No hay eventos aún.</p>
{% endif %}
{% endblock %}